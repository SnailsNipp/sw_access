{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/ClipboardCopy/clipboard-copy';\nimport { css } from '@patternfly/react-styles';\nimport { PopoverPosition } from '../Popover';\nimport { TextInput } from '../TextInput';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\nimport { ClipboardCopyButton } from './ClipboardCopyButton';\nimport { ClipboardCopyToggle } from './ClipboardCopyToggle';\nimport { ClipboardCopyExpanded } from './ClipboardCopyExpanded';\nimport { getOUIAProps } from '../../helpers';\nexport const clipboardCopyFunc = (event, text) => {\n  navigator.clipboard.writeText(text.toString());\n};\nexport var ClipboardCopyVariant;\n(function (ClipboardCopyVariant) {\n  ClipboardCopyVariant[\"inline\"] = \"inline\";\n  ClipboardCopyVariant[\"expansion\"] = \"expansion\";\n  ClipboardCopyVariant[\"inlineCompact\"] = \"inline-compact\";\n})(ClipboardCopyVariant || (ClipboardCopyVariant = {}));\nexport class ClipboardCopy extends React.Component {\n  constructor(props) {\n    super(props);\n    this.timer = null;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.componentDidUpdate = (prevProps, prevState) => {\n      if (prevProps.children !== this.props.children) {\n        this.updateText(this.props.children);\n      }\n    };\n    this.componentWillUnmount = () => {\n      if (this.timer) {\n        window.clearTimeout(this.timer);\n      }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.expandContent = _event => {\n      this.setState(prevState => ({\n        expanded: !prevState.expanded\n      }));\n    };\n    this.updateText = text => {\n      this.setState({\n        text\n      });\n      this.props.onChange(text);\n    };\n    this.render = () => {\n      const _a = this.props,\n        {\n          /* eslint-disable @typescript-eslint/no-unused-vars */\n          isExpanded,\n          onChange,\n          // Don't pass to <div>\n          switchDelay,\n          /* eslint-enable @typescript-eslint/no-unused-vars */\n          isReadOnly,\n          isCode,\n          isBlock,\n          exitDelay,\n          maxWidth,\n          entryDelay,\n          onCopy,\n          hoverTip,\n          clickTip,\n          textAriaLabel,\n          toggleAriaLabel,\n          variant,\n          position,\n          className,\n          additionalActions,\n          ouiaId,\n          ouiaSafe,\n          removeFindDomNode\n        } = _a,\n        divProps = __rest(_a, [\"isExpanded\", \"onChange\", \"switchDelay\", \"isReadOnly\", \"isCode\", \"isBlock\", \"exitDelay\", \"maxWidth\", \"entryDelay\", \"onCopy\", \"hoverTip\", \"clickTip\", \"textAriaLabel\", \"toggleAriaLabel\", \"variant\", \"position\", \"className\", \"additionalActions\", \"ouiaId\", \"ouiaSafe\", \"removeFindDomNode\"]);\n      const textIdPrefix = 'text-input-';\n      const toggleIdPrefix = 'toggle-';\n      const contentIdPrefix = 'content-';\n      return React.createElement(\"div\", Object.assign({\n        className: css(styles.clipboardCopy, variant === 'inline-compact' && styles.modifiers.inline, isBlock && styles.modifiers.block, this.state.expanded && styles.modifiers.expanded, className)\n      }, divProps, getOUIAProps(ClipboardCopy.displayName, ouiaId, ouiaSafe)), variant === 'inline-compact' && React.createElement(GenerateId, {\n        prefix: \"\"\n      }, id => React.createElement(React.Fragment, null, !isCode && React.createElement(\"span\", {\n        className: css(styles.clipboardCopyText),\n        id: `${textIdPrefix}${id}`\n      }, this.state.text), isCode && React.createElement(\"code\", {\n        className: css(styles.clipboardCopyText, styles.modifiers.code),\n        id: `${textIdPrefix}${id}`\n      }, this.state.text), React.createElement(\"span\", {\n        className: css(styles.clipboardCopyActions)\n      }, React.createElement(\"span\", {\n        className: css(styles.clipboardCopyActionsItem)\n      }, React.createElement(ClipboardCopyButton, {\n        variant: \"plain\",\n        exitDelay: exitDelay,\n        entryDelay: entryDelay,\n        maxWidth: maxWidth,\n        position: position,\n        id: `copy-button-${id}`,\n        textId: `text-input-${id}`,\n        \"aria-label\": hoverTip,\n        onClick: event => {\n          onCopy(event, this.state.text);\n          this.setState({\n            copied: true\n          });\n        },\n        onTooltipHidden: () => this.setState({\n          copied: false\n        })\n      }, this.state.copied ? clickTip : hoverTip)), additionalActions && additionalActions))), variant !== 'inline-compact' && React.createElement(GenerateId, {\n        prefix: \"\"\n      }, id => React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.clipboardCopyGroup)\n      }, variant === 'expansion' && React.createElement(ClipboardCopyToggle, {\n        isExpanded: this.state.expanded,\n        onClick: this.expandContent,\n        id: `${toggleIdPrefix}${id}`,\n        textId: `${textIdPrefix}${id}`,\n        contentId: `${contentIdPrefix}${id}`,\n        \"aria-label\": toggleAriaLabel\n      }), React.createElement(TextInput, {\n        isReadOnly: isReadOnly || this.state.expanded,\n        onChange: this.updateText,\n        value: this.state.text,\n        id: `text-input-${id}`,\n        \"aria-label\": textAriaLabel\n      }), React.createElement(ClipboardCopyButton, {\n        exitDelay: exitDelay,\n        entryDelay: entryDelay,\n        maxWidth: maxWidth,\n        position: position,\n        id: `copy-button-${id}`,\n        textId: `text-input-${id}`,\n        \"aria-label\": hoverTip,\n        onClick: event => {\n          onCopy(event, this.state.text);\n          this.setState({\n            copied: true\n          });\n        },\n        onTooltipHidden: () => this.setState({\n          copied: false\n        }),\n        removeFindDomNode: removeFindDomNode\n      }, this.state.copied ? clickTip : hoverTip)), this.state.expanded && React.createElement(ClipboardCopyExpanded, {\n        isReadOnly: isReadOnly,\n        isCode: isCode,\n        id: `content-${id}`,\n        onChange: this.updateText\n      }, this.state.text))));\n    };\n    this.state = {\n      text: Array.isArray(this.props.children) ? this.props.children.join('') : this.props.children,\n      expanded: this.props.isExpanded,\n      copied: false\n    };\n    if (this.props.switchDelay !== undefined) {\n      // eslint-disable-next-line no-console\n      console.warn('ClipboardCopy: switchDelay prop has been deprecated. ' + 'The tooltip message will switch back to the hover tip as soon as the tooltip is hidden.');\n    }\n  }\n}\nClipboardCopy.displayName = 'ClipboardCopy';\nClipboardCopy.defaultProps = {\n  hoverTip: 'Copy to clipboard',\n  clickTip: 'Successfully copied to clipboard!',\n  isReadOnly: false,\n  isExpanded: false,\n  isCode: false,\n  variant: 'inline',\n  position: PopoverPosition.top,\n  maxWidth: '150px',\n  exitDelay: 1500,\n  entryDelay: 300,\n  onCopy: clipboardCopyFunc,\n  onChange: () => undefined,\n  textAriaLabel: 'Copyable input',\n  toggleAriaLabel: 'Show content',\n  additionalActions: null,\n  ouiaSafe: true,\n  removeFindDomNode: false\n};","map":{"version":3,"names":["React","styles","css","PopoverPosition","TextInput","GenerateId","ClipboardCopyButton","ClipboardCopyToggle","ClipboardCopyExpanded","getOUIAProps","clipboardCopyFunc","event","text","navigator","clipboard","writeText","toString","ClipboardCopyVariant","ClipboardCopy","Component","constructor","props","timer","componentDidUpdate","prevProps","prevState","children","updateText","componentWillUnmount","window","clearTimeout","expandContent","_event","setState","expanded","onChange","render","_a","isExpanded","switchDelay","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions","ouiaId","ouiaSafe","removeFindDomNode","divProps","__rest","textIdPrefix","toggleIdPrefix","contentIdPrefix","createElement","Object","assign","clipboardCopy","modifiers","inline","block","state","displayName","prefix","id","Fragment","clipboardCopyText","code","clipboardCopyActions","clipboardCopyActionsItem","textId","onClick","copied","onTooltipHidden","clipboardCopyGroup","contentId","value","Array","isArray","join","undefined","console","warn","defaultProps","top"],"sources":["../../../../src/components/ClipboardCopy/ClipboardCopy.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}