{"ast":null,"code":"import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/OptionsMenu/options-menu';\nimport { css } from '@patternfly/react-styles';\nimport { DropdownItem, DropdownDirection, DropdownWithContext, DropdownContext } from '../Dropdown';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { OptionsToggle } from './OptionsToggle';\nimport { ToggleTemplate } from './ToggleTemplate';\nexport class PaginationOptionsMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.parentRef = React.createRef();\n    this.onToggle = isOpen => {\n      this.setState({\n        isOpen\n      });\n    };\n    this.onSelect = () => {\n      this.setState(prevState => ({\n        isOpen: !prevState.isOpen\n      }));\n    };\n    this.handleNewPerPage = (_evt, newPerPage) => {\n      const {\n        page,\n        onPerPageSelect,\n        itemCount,\n        defaultToFullPage\n      } = this.props;\n      let newPage = page;\n      while (Math.ceil(itemCount / newPerPage) < newPage) {\n        newPage--;\n      }\n      if (defaultToFullPage) {\n        if (itemCount / newPerPage !== newPage) {\n          while (newPage > 1 && itemCount - newPerPage * newPage < 0) {\n            newPage--;\n          }\n        }\n      }\n      const startIdx = (newPage - 1) * newPerPage;\n      const endIdx = newPage * newPerPage;\n      return onPerPageSelect(_evt, newPerPage, newPage, startIdx, endIdx);\n    };\n    this.renderItems = () => {\n      const {\n        perPageOptions,\n        perPage,\n        perPageSuffix\n      } = this.props;\n      return perPageOptions.map(_ref => {\n        let {\n          value,\n          title\n        } = _ref;\n        return React.createElement(DropdownItem, {\n          key: value,\n          component: \"button\",\n          \"data-action\": `per-page-${value}`,\n          className: css(perPage === value && 'pf-m-selected'),\n          onClick: event => this.handleNewPerPage(event, value)\n        }, title, ` ${perPageSuffix}`, perPage === value && React.createElement(\"div\", {\n          className: css(styles.optionsMenuMenuItemIcon)\n        }, React.createElement(CheckIcon, null)));\n      });\n    };\n    this.state = {\n      isOpen: false\n    };\n  }\n  render() {\n    const {\n      widgetId,\n      isDisabled,\n      itemsPerPageTitle,\n      dropDirection,\n      optionsToggle,\n      perPageOptions,\n      toggleTemplate,\n      firstIndex,\n      lastIndex,\n      itemCount,\n      itemsTitle,\n      ofWord,\n      perPageComponent\n    } = this.props;\n    const {\n      isOpen\n    } = this.state;\n    return React.createElement(DropdownContext.Provider, {\n      value: Object.assign(Object.assign({}, widgetId && {\n        id: widgetId\n      }), {\n        onSelect: this.onSelect,\n        toggleIndicatorClass: perPageComponent === 'div' ? styles.optionsMenuToggleButtonIcon : styles.optionsMenuToggleIcon,\n        toggleTextClass: styles.optionsMenuToggleText,\n        menuClass: styles.optionsMenuMenu,\n        itemClass: styles.optionsMenuMenuItem,\n        toggleClass: ' ',\n        baseClass: styles.optionsMenu,\n        disabledClass: styles.modifiers.disabled,\n        menuComponent: 'ul',\n        baseComponent: 'div',\n        ouiaComponentType: PaginationOptionsMenu.displayName\n      })\n    }, React.createElement(DropdownWithContext, {\n      direction: dropDirection,\n      isOpen: isOpen,\n      toggle: React.createElement(OptionsToggle, {\n        optionsToggle: optionsToggle,\n        itemsPerPageTitle: itemsPerPageTitle,\n        showToggle: perPageOptions && perPageOptions.length > 0,\n        onToggle: this.onToggle,\n        isOpen: isOpen,\n        widgetId: widgetId,\n        firstIndex: firstIndex,\n        lastIndex: lastIndex,\n        itemCount: itemCount,\n        itemsTitle: itemsTitle,\n        ofWord: ofWord,\n        toggleTemplate: toggleTemplate,\n        parentRef: this.parentRef.current,\n        isDisabled: isDisabled,\n        perPageComponent: perPageComponent\n      }),\n      dropdownItems: this.renderItems(),\n      isPlain: true\n    }));\n  }\n}\nPaginationOptionsMenu.displayName = 'PaginationOptionsMenu';\nPaginationOptionsMenu.defaultProps = {\n  className: '',\n  widgetId: '',\n  isDisabled: false,\n  dropDirection: DropdownDirection.down,\n  perPageOptions: [],\n  itemsPerPageTitle: 'Items per page',\n  perPageSuffix: 'per page',\n  optionsToggle: '',\n  ofWord: 'of',\n  perPage: 0,\n  firstIndex: 0,\n  lastIndex: 0,\n  defaultToFullPage: false,\n  itemsTitle: 'items',\n  toggleTemplate: ToggleTemplate,\n  onPerPageSelect: () => null,\n  perPageComponent: 'div'\n};","map":{"version":3,"names":["React","styles","css","DropdownItem","DropdownDirection","DropdownWithContext","DropdownContext","CheckIcon","OptionsToggle","ToggleTemplate","PaginationOptionsMenu","Component","constructor","props","parentRef","createRef","onToggle","isOpen","setState","onSelect","prevState","handleNewPerPage","_evt","newPerPage","page","onPerPageSelect","itemCount","defaultToFullPage","newPage","Math","ceil","startIdx","endIdx","renderItems","perPageOptions","perPage","perPageSuffix","map","_ref","value","title","createElement","key","component","className","onClick","event","optionsMenuMenuItemIcon","state","render","widgetId","isDisabled","itemsPerPageTitle","dropDirection","optionsToggle","toggleTemplate","firstIndex","lastIndex","itemsTitle","ofWord","perPageComponent","Provider","Object","assign","id","toggleIndicatorClass","optionsMenuToggleButtonIcon","optionsMenuToggleIcon","toggleTextClass","optionsMenuToggleText","menuClass","optionsMenuMenu","itemClass","optionsMenuMenuItem","toggleClass","baseClass","optionsMenu","disabledClass","modifiers","disabled","menuComponent","baseComponent","ouiaComponentType","displayName","direction","toggle","showToggle","length","current","dropdownItems","isPlain","defaultProps","down"],"sources":["../../../../src/components/Pagination/PaginationOptionsMenu.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}