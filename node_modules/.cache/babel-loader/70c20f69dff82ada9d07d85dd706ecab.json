{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { createFocusTrap } from 'focus-trap';\nclass FocusTrapBase extends React.Component {\n  constructor(props) {\n    super(props);\n    this.divRef = this.props.innerRef || React.createRef();\n    if (typeof document !== 'undefined') {\n      this.previouslyFocusedElement = document.activeElement;\n    }\n  }\n  componentDidMount() {\n    // We need to hijack the returnFocusOnDeactivate option,\n    // because React can move focus into the element before we arrived at\n    // this lifecycle hook (e.g. with autoFocus inputs). So the component\n    // captures the previouslyFocusedElement in componentWillMount,\n    // then (optionally) returns focus to it in componentWillUnmount.\n    this.focusTrap = createFocusTrap(this.divRef.current, Object.assign(Object.assign({}, this.props.focusTrapOptions), {\n      returnFocusOnDeactivate: false\n    }));\n    if (this.props.active) {\n      this.focusTrap.activate();\n    }\n    if (this.props.paused) {\n      this.focusTrap.pause();\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.active && !this.props.active) {\n      this.focusTrap.deactivate();\n    } else if (!prevProps.active && this.props.active) {\n      this.focusTrap.activate();\n    }\n    if (prevProps.paused && !this.props.paused) {\n      this.focusTrap.unpause();\n    } else if (!prevProps.paused && this.props.paused) {\n      this.focusTrap.pause();\n    }\n  }\n  componentWillUnmount() {\n    this.focusTrap.deactivate();\n    if (this.props.focusTrapOptions.returnFocusOnDeactivate !== false && this.previouslyFocusedElement && this.previouslyFocusedElement.focus) {\n      this.previouslyFocusedElement.focus({\n        preventScroll: this.props.preventScrollOnDeactivate\n      });\n    }\n  }\n  render() {\n    const _a = this.props,\n      {\n        children,\n        className,\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        focusTrapOptions,\n        active,\n        paused,\n        preventScrollOnDeactivate,\n        innerRef\n      } = _a,\n      /* eslint-enable @typescript-eslint/no-unused-vars */\n      rest = __rest(_a, [\"children\", \"className\", \"focusTrapOptions\", \"active\", \"paused\", \"preventScrollOnDeactivate\", \"innerRef\"]);\n    return React.createElement(\"div\", Object.assign({\n      ref: this.divRef,\n      className: className\n    }, rest), children);\n  }\n}\nFocusTrapBase.displayName = 'FocusTrap';\nFocusTrapBase.defaultProps = {\n  active: true,\n  paused: false,\n  focusTrapOptions: {},\n  preventScrollOnDeactivate: false\n};\nexport const FocusTrap = React.forwardRef((props, ref) => React.createElement(FocusTrapBase, Object.assign({\n  innerRef: ref\n}, props)));","map":{"version":3,"names":["React","createFocusTrap","FocusTrapBase","Component","constructor","props","divRef","innerRef","createRef","document","previouslyFocusedElement","activeElement","componentDidMount","focusTrap","current","Object","assign","focusTrapOptions","returnFocusOnDeactivate","active","activate","paused","pause","componentDidUpdate","prevProps","deactivate","unpause","componentWillUnmount","focus","preventScroll","preventScrollOnDeactivate","render","_a","children","className","rest","__rest","createElement","ref","displayName","defaultProps","FocusTrap","forwardRef"],"sources":["../../../../src/helpers/FocusTrap/FocusTrap.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}