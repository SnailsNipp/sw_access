{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/DualListSelector/dual-list-selector';\nimport { css } from '@patternfly/react-styles';\nimport { DualListSelectorTree } from './DualListSelectorTree';\nimport { getUniqueId } from '../../helpers';\nimport { DualListSelectorListWrapper } from './DualListSelectorListWrapper';\nimport { DualListSelectorContext, DualListSelectorPaneContext } from './DualListSelectorContext';\nimport { DualListSelectorList } from './DualListSelectorList';\nimport { SearchInput } from '../SearchInput';\nexport const DualListSelectorPane = _a => {\n  var {\n      isChosen = false,\n      className = '',\n      status = '',\n      actions,\n      searchInput,\n      children,\n      onOptionSelect,\n      onOptionCheck,\n      title = '',\n      options = [],\n      selectedOptions = [],\n      isSearchable = false,\n      searchInputAriaLabel = '',\n      onFilterUpdate,\n      onSearchInputChanged,\n      onSearchInputClear,\n      filterOption,\n      id = getUniqueId('dual-list-selector-pane'),\n      isDisabled = false,\n      listMinHeight\n    } = _a,\n    props = __rest(_a, [\"isChosen\", \"className\", \"status\", \"actions\", \"searchInput\", \"children\", \"onOptionSelect\", \"onOptionCheck\", \"title\", \"options\", \"selectedOptions\", \"isSearchable\", \"searchInputAriaLabel\", \"onFilterUpdate\", \"onSearchInputChanged\", \"onSearchInputClear\", \"filterOption\", \"id\", \"isDisabled\", \"listMinHeight\"]);\n  const [input, setInput] = React.useState('');\n  const {\n    isTree\n  } = React.useContext(DualListSelectorContext);\n  // only called when search input is dynamically built\n  const onChange = (e, newValue) => {\n    let filtered;\n    if (isTree) {\n      filtered = options.map(opt => Object.assign({}, opt)).filter(item => filterInput(item, newValue));\n    } else {\n      filtered = options.filter(option => {\n        if (displayOption(option)) {\n          return option;\n        }\n      });\n    }\n    onFilterUpdate(filtered, isChosen ? 'chosen' : 'available', newValue === '');\n    if (onSearchInputChanged) {\n      onSearchInputChanged(newValue, e);\n    }\n    setInput(newValue);\n  };\n  // only called when options are passed via options prop and isTree === true\n  const filterInput = (item, input) => {\n    if (filterOption) {\n      return filterOption(item, input);\n    } else {\n      if (item.text.toLowerCase().includes(input.toLowerCase()) || input === '') {\n        return true;\n      }\n    }\n    if (item.children) {\n      return (item.children = item.children.map(opt => Object.assign({}, opt)).filter(child => filterInput(child, input))).length > 0;\n    }\n  };\n  // only called when options are passed via options prop and isTree === false\n  const displayOption = option => {\n    if (filterOption) {\n      return filterOption(option, input);\n    } else {\n      return option.toString().toLowerCase().includes(input.toLowerCase());\n    }\n  };\n  return React.createElement(\"div\", Object.assign({\n    className: css(styles.dualListSelectorPane, isChosen ? styles.modifiers.chosen : 'pf-m-available', className)\n  }, props), title && React.createElement(\"div\", {\n    className: css(styles.dualListSelectorHeader)\n  }, React.createElement(\"div\", {\n    className: \"pf-c-dual-list-selector__title\"\n  }, React.createElement(\"div\", {\n    className: css(styles.dualListSelectorTitleText)\n  }, title))), (actions || searchInput || isSearchable) && React.createElement(\"div\", {\n    className: css(styles.dualListSelectorTools)\n  }, (isSearchable || searchInput) && React.createElement(\"div\", {\n    className: css(styles.dualListSelectorToolsFilter)\n  }, searchInput ? searchInput : React.createElement(SearchInput, {\n    onChange: isDisabled ? undefined : onChange,\n    onClear: onSearchInputClear ? onSearchInputClear : e => onChange(e, ''),\n    isDisabled: isDisabled,\n    \"aria-label\": searchInputAriaLabel,\n    type: \"search\"\n  })), actions && React.createElement(\"div\", {\n    className: css(styles.dualListSelectorToolsActions)\n  }, actions)), status && React.createElement(\"div\", {\n    className: css(styles.dualListSelectorStatus)\n  }, React.createElement(\"div\", {\n    className: css(styles.dualListSelectorStatusText),\n    id: `${id}-status`\n  }, status)), React.createElement(DualListSelectorPaneContext.Provider, {\n    value: {\n      isChosen\n    }\n  }, !isTree && React.createElement(DualListSelectorListWrapper, Object.assign({\n    \"aria-labelledby\": `${id}-status`,\n    options: options,\n    selectedOptions: selectedOptions,\n    onOptionSelect: (e, index, id) => onOptionSelect(e, index, isChosen, id),\n    displayOption: displayOption,\n    id: `${id}-list`,\n    isDisabled: isDisabled\n  }, listMinHeight && {\n    style: {\n      '--pf-c-dual-list-selector__menu--MinHeight': listMinHeight\n    }\n  }), children), isTree && React.createElement(DualListSelectorListWrapper, Object.assign({\n    \"aria-labelledby\": `${id}-status`,\n    id: `${id}-list`\n  }, listMinHeight && {\n    style: {\n      '--pf-c-dual-list-selector__menu--MinHeight': listMinHeight\n    }\n  }), options.length > 0 ? React.createElement(DualListSelectorList, null, React.createElement(DualListSelectorTree, {\n    data: isSearchable ? options.map(opt => Object.assign({}, opt)).filter(item => filterInput(item, input)) : options,\n    onOptionCheck: onOptionCheck,\n    id: `${id}-tree`,\n    isDisabled: isDisabled\n  })) : children)));\n};\nDualListSelectorPane.displayName = 'DualListSelectorPane';","map":{"version":3,"names":["React","styles","css","DualListSelectorTree","getUniqueId","DualListSelectorListWrapper","DualListSelectorContext","DualListSelectorPaneContext","DualListSelectorList","SearchInput","DualListSelectorPane","_a","isChosen","className","status","actions","searchInput","children","onOptionSelect","onOptionCheck","title","options","selectedOptions","isSearchable","searchInputAriaLabel","onFilterUpdate","onSearchInputChanged","onSearchInputClear","filterOption","id","isDisabled","listMinHeight","props","__rest","input","setInput","useState","isTree","useContext","onChange","e","newValue","filtered","map","opt","Object","assign","filter","item","filterInput","option","displayOption","text","toLowerCase","includes","child","length","toString","createElement","dualListSelectorPane","modifiers","chosen","dualListSelectorHeader","dualListSelectorTitleText","dualListSelectorTools","dualListSelectorToolsFilter","undefined","onClear","type","dualListSelectorToolsActions","dualListSelectorStatus","dualListSelectorStatusText","Provider","value","index","style","data","displayName"],"sources":["../../../../src/components/DualListSelector/DualListSelectorPane.tsx"],"sourcesContent":[null],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,MAAM,MAAM,6EAA6E;AAChG,SAASC,GAAG,QAAQ,0BAA0B;AAC9C,SAASC,oBAAoB,QAAsC,wBAAwB;AAC3F,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,2BAA2B,QAAQ,+BAA+B;AAC3E,SAASC,uBAAuB,EAAEC,2BAA2B,QAAQ,2BAA2B;AAChG,SAASC,oBAAoB,QAAQ,wBAAwB;AAC7D,SAASC,WAAW,QAAQ,gBAAgB;AA+D5C,OAAO,MAAMC,oBAAoB,GAAwDC,EAsB7D,IAAI;MAtByD;MACvFC,QAAQ,GAAG,KAAK;MAChBC,SAAS,GAAG,EAAE;MACdC,MAAM,GAAG,EAAE;MACXC,OAAO;MACPC,WAAW;MACXC,QAAQ;MACRC,cAAc;MACdC,aAAa;MACbC,KAAK,GAAG,EAAE;MACVC,OAAO,GAAG,EAAE;MACZC,eAAe,GAAG,EAAE;MACpBC,YAAY,GAAG,KAAK;MACpBC,oBAAoB,GAAG,EAAE;MACzBC,cAAc;MACdC,oBAAoB;MACpBC,kBAAkB;MAClBC,YAAY;MACZC,EAAE,GAAGzB,WAAW,CAAC,yBAAyB,CAAC;MAC3C0B,UAAU,GAAG,KAAK;MAClBC;IAAa,IAAApB,EAEa;IADvBqB,KAAK,GAAAC,MAAA,CAAAtB,EAAA,EArB+E,gTAsBxF,CADS;EAER,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGnC,KAAK,CAACoC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAAEC;EAAM,CAAE,GAAGrC,KAAK,CAACsC,UAAU,CAAChC,uBAAuB,CAAC;EAE5D;EACA,MAAMiC,QAAQ,GAAGA,CAACC,CAAoC,EAAEC,QAAgB,KAAI;IAC1E,IAAIC,QAA2B;IAC/B,IAAIL,MAAM,EAAE;MACVK,QAAQ,GAAGrB,OAAO,CACfsB,GAAG,CAACC,GAAG,IAAIC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEF,GAAG,CAAC,CAAC,CAClCG,MAAM,CAACC,IAAI,IAAIC,WAAW,CAAED,IAAgD,EAAEP,QAAQ,CAAC,CAAC;KAC5F,MAAM;MACLC,QAAQ,GAAGrB,OAAO,CAAC0B,MAAM,CAACG,MAAM,IAAG;QACjC,IAAIC,aAAa,CAACD,MAAM,CAAC,EAAE;UACzB,OAAOA,MAAM;;MAEjB,CAAC,CAAC;;IAEJzB,cAAc,CAACiB,QAAQ,EAAE9B,QAAQ,GAAG,QAAQ,GAAG,WAAW,EAAE6B,QAAQ,KAAK,EAAE,CAAC;IAE5E,IAAIf,oBAAoB,EAAE;MACxBA,oBAAoB,CAACe,QAAQ,EAAED,CAAC,CAAC;;IAEnCL,QAAQ,CAACM,QAAQ,CAAC;EACpB,CAAC;EAED;EACA,MAAMQ,WAAW,GAAGA,CAACD,IAAkC,EAAEd,KAAa,KAAa;IACjF,IAAIN,YAAY,EAAE;MAChB,OAAOA,YAAY,CAAEoB,IAAmC,EAAEd,KAAK,CAAC;KACjE,MAAM;MACL,IAAIc,IAAI,CAACI,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACpB,KAAK,CAACmB,WAAW,EAAE,CAAC,IAAInB,KAAK,KAAK,EAAE,EAAE;QACzE,OAAO,IAAI;;;IAGf,IAAIc,IAAI,CAAC/B,QAAQ,EAAE;MACjB,OACE,CAAC+B,IAAI,CAAC/B,QAAQ,GAAG+B,IAAI,CAAC/B,QAAQ,CAAC0B,GAAG,CAACC,GAAG,IAAIC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEF,GAAG,CAAC,CAAC,CAACG,MAAM,CAACQ,KAAK,IAAIN,WAAW,CAACM,KAAK,EAAErB,KAAK,CAAC,CAAC,EACzGsB,MAAM,GAAG,CAAC;;EAGnB,CAAC;EAED;EACA,MAAML,aAAa,GAAID,MAAuB,IAAI;IAChD,IAAItB,YAAY,EAAE;MAChB,OAAOA,YAAY,CAACsB,MAAM,EAAEhB,KAAK,CAAC;KACnC,MAAM;MACL,OAAOgB,MAAM,CACVO,QAAQ,EAAE,CACVJ,WAAW,EAAE,CACbC,QAAQ,CAACpB,KAAK,CAACmB,WAAW,EAAE,CAAC;;EAEpC,CAAC;EAED,OACErD,KAAA,CAAA0D,aAAA,QAAAb,MAAA,CAAAC,MAAA;IACEjC,SAAS,EAAEX,GAAG,CAACD,MAAM,CAAC0D,oBAAoB,EAAE/C,QAAQ,GAAGX,MAAM,CAAC2D,SAAS,CAACC,MAAM,GAAG,gBAAgB,EAAEhD,SAAS;EAAC,GACzGmB,KAAK,GAERZ,KAAK,IACJpB,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAAC6D,sBAAsB;EAAC,GAChD9D,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAC;EAAgC,GAC7Cb,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAAC8D,yBAAyB;EAAC,GAAG3C,KAAK,CAAO,CAChE,CAET,EACA,CAACL,OAAO,IAAIC,WAAW,IAAIO,YAAY,KACtCvB,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAAC+D,qBAAqB;EAAC,GAC9C,CAACzC,YAAY,IAAIP,WAAW,KAC3BhB,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAACgE,2BAA2B;EAAC,GACpDjD,WAAW,GACVA,WAAW,GAEXhB,KAAA,CAAA0D,aAAA,CAACjD,WAAW;IACV8B,QAAQ,EAAET,UAAU,GAAGoC,SAAS,GAAG3B,QAAQ;IAC3C4B,OAAO,EACLxC,kBAAkB,GAAGA,kBAAkB,GAAGa,CAAC,IAAID,QAAQ,CAACC,CAAsC,EAAE,EAAE,CAAC;IAErGV,UAAU,EAAEA,UAAU;IAAA,cACVN,oBAAoB;IAChC4C,IAAI,EAAC;EAAQ,EAEhB,CAEJ,EACArD,OAAO,IAAIf,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAACoE,4BAA4B;EAAC,GAAGtD,OAAO,CAAO,CAExF,EACAD,MAAM,IACLd,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAACqE,sBAAsB;EAAC,GAChDtE,KAAA,CAAA0D,aAAA;IAAK7C,SAAS,EAAEX,GAAG,CAACD,MAAM,CAACsE,0BAA0B,CAAC;IAAE1C,EAAE,EAAE,GAAGA,EAAE;EAAS,GACvEf,MAAM,CACH,CAET,EACDd,KAAA,CAAA0D,aAAA,CAACnD,2BAA2B,CAACiE,QAAQ;IAACC,KAAK,EAAE;MAAE7D;IAAQ;EAAE,GACtD,CAACyB,MAAM,IACNrC,KAAA,CAAA0D,aAAA,CAACrD,2BAA2B,EAAAwC,MAAA,CAAAC,MAAA;IAAA,mBACT,GAAGjB,EAAE,SAAS;IAC/BR,OAAO,EAAEA,OAAO;IAChBC,eAAe,EAAEA,eAAe;IAChCJ,cAAc,EAAEA,CACdsB,CAA6D,EAC7DkC,KAAa,EACb7C,EAAU,KACPX,cAAc,CAACsB,CAAC,EAAEkC,KAAK,EAAE9D,QAAQ,EAAEiB,EAAE,CAAC;IAC3CsB,aAAa,EAAEA,aAAa;IAC5BtB,EAAE,EAAE,GAAGA,EAAE,OAAO;IAChBC,UAAU,EAAEA;EAAU,GACjBC,aAAa,IAAI;IACpB4C,KAAK,EAAE;MAAE,4CAA4C,EAAE5C;IAAa;GACpE,GAEDd,QAAQ,CAEZ,EACAoB,MAAM,IACLrC,KAAA,CAAA0D,aAAA,CAACrD,2BAA2B,EAAAwC,MAAA,CAAAC,MAAA;IAAA,mBACT,GAAGjB,EAAE,SAAS;IAC/BA,EAAE,EAAE,GAAGA,EAAE;EAAO,GACXE,aAAa,IAAI;IACpB4C,KAAK,EAAE;MAAE,4CAA4C,EAAE5C;IAAa;GACpE,GAEDV,OAAO,CAACmC,MAAM,GAAG,CAAC,GACjBxD,KAAA,CAAA0D,aAAA,CAAClD,oBAAoB,QACnBR,KAAA,CAAA0D,aAAA,CAACvD,oBAAoB;IACnByE,IAAI,EACFrD,YAAY,GACNF,OAAO,CACNsB,GAAG,CAACC,GAAG,IAAIC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEF,GAAG,CAAC,CAAC,CAClCG,MAAM,CAACC,IAAI,IACVC,WAAW,CAAED,IAAgD,EAAEd,KAAK,CAAC,CACvB,GAChDb,OAAsD;IAE9DF,aAAa,EAAEA,aAAa;IAC5BU,EAAE,EAAE,GAAGA,EAAE,OAAO;IAChBC,UAAU,EAAEA;EAAU,EACtB,CACmB,GAEvBb,QACD,CAEJ,CACoC,CACnC;AAEV,CAAC;AACDP,oBAAoB,CAACmE,WAAW,GAAG,sBAAsB"},"metadata":{},"sourceType":"module"}